<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exo 1</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <h1>Exercice 1</h1>

    <p>A l'aide de la librairie cleave.js, créer un formulaire de paiement. Ajouter un champ nom et un champ prénom, un
    </p>
    <p>champ numéro de téléphone, un champ date de commande et un champ carte bancaire.</p>


    <div>
        <form action="">
            <section>
                <p>Nom:</p>
                <input id="name" class="input-lastname" onkeyup="checkLastname()" required />
            </section>

            <section>
                <p>Prénom:</p>
                <input id="surname" class="input-firstname" onkeyup="checkFirstName()" required />
            </section>

            <section>
                <p>Numéro de téléphone:</p>
                <input type="text" class="input-phonenumber" required />
            </section>

            <section>
                <p>Date de commande:</p>
                <input class="input-deliverydate" required />
            </section>

            <section>
                <p>Carte bancaire (<span class="type">inconnue</span>): </p>
                <input class="input-creditcard" required />
            </section>
            <span class="error" id="errorage"></span>
        </form>

    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="assets/js/script.js"></script>
    <script src="assets/js/phone-type-formatter.fr.js"></script>
    <script>
        function checkLastname() {

            let name = document.getElementById("name");
            let name_regex = /^[a-zA-Zçéè" "\-]+$/;

            if (name_regex.test(name.value)) {
                name.style.borderColor = "green";
                document.getElementById('errorname').textContent = "";
            } else {
                name.style.borderColor = "red";
                document.getElementById("errorname").textContent = "champ non valide";
            }
        }

        function checkFirstName() {

            let name = document.getElementById("surname");
            let name_regex = /^[a-zA-Zçéè" "\-]+$/;

            if (name_regex.test(name.value)) {
                name.style.borderColor = "green";
                document.getElementById('errorname').textContent = "";
            } else {
                name.style.borderColor = "red";
                document.getElementById("errorname").textContent = "champ non valide";
            }
        }

        new Cleave('.input-phonenumber', {
            phone: true,
            phoneRegionCode: '{country}'
        });

        new Cleave('.input-deliverydate', {
            date: true,
            datePattern: ['d', 'm', 'Y'],
            delimiter: '.',
        });

        new Cleave('.input-creditcard', {
            creditCard: true,
            onCreditCardTypeChanged: function (type) {
                document.querySelector('.type').innerHTML = type;
            }
        });
    </script>

</body>

</html>